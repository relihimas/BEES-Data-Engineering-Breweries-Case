mappings:
  # Exemplo simples para testar parsing
  - match: "test.dispatcher.*.*.*"
    name: "dispatcher_events_total"
    labels:
      processor: "$1"
      action: "$2"
      outcome: "$3"

  # Mapeamento de sucesso de task do Airflow:
  # airflow.ti_successes.<dag_id>.<task_id>
  - match: "airflow.ti_successes.*.*"
    name: "airflow_task_success_total"
    labels:
      dag_id: "$1"
      task_id: "$2"

  # Mapeamento de falha de task do Airflow:
  # airflow.ti_failures.<dag_id>.<task_id>
  - match: "airflow.ti_failures.*.*"
    name: "airflow_task_failure_total"
    labels:
      dag_id: "$1"
      task_id: "$2"